<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bestrafungs-Log System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #000000;
            min-height: 100vh;
            color: #e0e0e0;
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, #0f1729 0%, #000000 100%);
            z-index: 0;
        }

        body::after {
            content: '';
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
            background-image:
                linear-gradient(rgba(59, 130, 246, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(59, 130, 246, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: circuitMove 30s linear infinite;
            opacity: 0.6;
        }

        @keyframes circuitMove {
            0% { background-position: 0 0; }
            100% { background-position: 50px 50px; }
        }

        .orb {
            position: fixed;
            border-radius: 50%;
            filter: blur(70px);
            opacity: 0.5;
            pointer-events: none;
            z-index: 0;
            mix-blend-mode: screen;
        }

        .orb-1 {
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(59, 130, 246, 0.6) 0%, transparent 70%);
            top: -10%;
            left: 10%;
            animation: orbitFloat1 35s ease-in-out infinite;
        }

        .orb-2 {
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(37, 99, 235, 0.5) 0%, transparent 70%);
            top: 50%;
            right: 5%;
            animation: orbitFloat2 40s ease-in-out infinite;
        }

        @keyframes orbitFloat1 {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(100px, 80px); }
        }

        @keyframes orbitFloat2 {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(-100px, -80px); }
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            z-index: 9999;
            justify-content: center;
            align-items: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-box {
            background: linear-gradient(145deg, #0a0a0a, #050505);
            border-radius: 20px;
            padding: 35px;
            max-width: 550px;
            width: 90%;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.9), 0 0 0 1px rgba(59, 130, 246, 0.2);
            border: 1px solid rgba(59, 130, 246, 0.3);
            position: relative;
            z-index: 10000;
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-icon {
            width: 70px;
            height: 70px;
            margin: 0 auto 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 35px;
            background: linear-gradient(145deg, #3b82f6, #2563eb);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
        }

        .modal-icon.success { 
            background: linear-gradient(145deg, #3b82f6, #2563eb);
        }
        .modal-icon.error { 
            background: linear-gradient(145deg, #ef4444, #dc2626);
        }

        .modal-title {
            font-size: 1.8em;
            font-weight: bold;
            color: #fff;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
        }

        .modal-message {
            color: #b0b8d4;
            text-align: center;
            line-height: 1.8;
            margin-bottom: 25px;
            font-size: 1.05em;
        }

        .modal-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .modal-btn {
            padding: 14px 35px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .modal-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .modal-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .modal-btn.success {
            background: linear-gradient(145deg, #3b82f6, #2563eb);
            color: white;
            box-shadow: 0 5px 20px rgba(59, 130, 246, 0.4);
        }

        .modal-btn.success:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(59, 130, 246, 0.6);
        }

        .modal-btn.cancel {
            background: #1a1a1a;
            color: #b0b8d4;
            border: 2px solid #333;
        }

        .modal-btn.cancel:hover {
            background: #252525;
            border-color: #444;
        }

        .login-container {
            max-width: 450px;
            margin: 100px auto;
            background: linear-gradient(145deg, #0a0a0a, #050505);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 50px 40px;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(59, 130, 246, 0.2);
            border: 1px solid rgba(59, 130, 246, 0.3);
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .login-container h1 {
            color: #fff;
            margin-bottom: 15px;
            font-size: 2.2em;
            text-shadow: 0 0 30px rgba(59, 130, 246, 0.6);
        }

        .discord-btn {
            background: linear-gradient(145deg, #5865F2, #4752C4);
            color: white;
            padding: 18px 35px;
            border: none;
            border-radius: 12px;
            font-size: 17px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            width: 100%;
            transition: all 0.3s;
            text-decoration: none;
            font-weight: 600;
            box-shadow: 0 10px 30px rgba(88, 101, 242, 0.4);
            position: relative;
            overflow: hidden;
        }

        .discord-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .discord-btn:hover::before {
            width: 400px;
            height: 400px;
        }

        .discord-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(88, 101, 242, 0.6);
        }

        .sidebar-nav {
            position: fixed;
            left: 0;
            top: 0;
            width: 280px;
            height: 100vh;
            background: linear-gradient(180deg, #0a0a0a 0%, #050505 100%);
            border-right: 2px solid rgba(59, 130, 246, 0.2);
            padding: 20px 0;
            z-index: 1000;
            overflow-y: auto;
            box-shadow: 5px 0 30px rgba(0, 0, 0, 0.5);
        }

        .nav-header {
            padding: 0 20px 20px;
            border-bottom: 1px solid rgba(59, 130, 246, 0.2);
        }

        .nav-logo {
            font-size: 1.6em;
            font-weight: bold;
            color: #fff;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
        }

        .nav-menu {
            padding: 20px 0;
        }

        .nav-item {
            padding: 16px 20px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 12px;
            color: #b0b8d4;
            font-weight: 500;
            border-left: 3px solid transparent;
            position: relative;
        }

        .nav-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 0;
            height: 100%;
            background: linear-gradient(90deg, rgba(59, 130, 246, 0.2), transparent);
            transition: width 0.3s;
        }

        .nav-item:hover::before {
            width: 100%;
        }

        .nav-item:hover {
            color: white;
            border-left-color: #3b82f6;
            background: rgba(59, 130, 246, 0.1);
        }

        .nav-item.active {
            background: rgba(59, 130, 246, 0.15);
            color: #3b82f6;
            border-left-color: #3b82f6;
            box-shadow: inset 0 0 20px rgba(59, 130, 246, 0.1);
        }

        .nav-icon {
            font-size: 1.3em;
            width: 28px;
            text-align: center;
        }

        .top-bar {
            position: fixed;
            left: 280px;
            top: 0;
            right: 0;
            height: 75px;
            background: linear-gradient(180deg, #0a0a0a 0%, #050505 100%);
            border-bottom: 2px solid rgba(59, 130, 246, 0.2);
            display: flex;
            align-items: center;
            justify-content: flex-start;
            padding: 0 30px;
            z-index: 999;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.5);
        }

        .user-profile {
            position: relative;
            cursor: pointer;
        }

        .user-avatar-top {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 3px solid #3b82f6;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(59, 130, 246, 0.4);
        }

        .user-avatar-top:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 8px 30px rgba(59, 130, 246, 0.6);
        }

        .user-info-popup {
            position: absolute;
            top: 70px;
            left: 0;
            background: linear-gradient(145deg, #0a0a0a, #050505);
            border: 2px solid rgba(59, 130, 246, 0.3);
            border-radius: 15px;
            padding: 25px;
            min-width: 280px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s;
            z-index: 1001;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.9);
        }

        .user-profile:hover .user-info-popup {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .popup-avatar {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            border: 3px solid #3b82f6;
            margin: 0 auto 20px;
            display: block;
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
        }

        .popup-name {
            font-size: 1.3em;
            font-weight: bold;
            color: #fff;
            text-align: center;
            margin-bottom: 12px;
            text-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
        }

        .popup-rank {
            text-align: center;
            margin-bottom: 20px;
        }

        .user-rank {
            padding: 8px 18px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            display: inline-block;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .rank-owner { 
            background: linear-gradient(145deg, #ef4444, #dc2626);
            color: white;
        }
        .rank-admin { 
            background: linear-gradient(145deg, #f59e0b, #d97706);
            color: white;
        }
        .rank-moderator { 
            background: linear-gradient(145deg, #10b981, #059669);
            color: white;
        }
        .rank-pending {
            background: linear-gradient(145deg, #6b7280, #4b5563);
            color: white;
        }

        .popup-info {
            font-size: 0.95em;
            color: #b0b8d4;
            margin-bottom: 20px;
            background: rgba(59, 130, 246, 0.05);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .popup-info div {
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
        }

        .popup-info div:last-child {
            margin-bottom: 0;
        }

        .popup-info strong {
            color: #3b82f6;
        }

        .logout-btn {
            width: 100%;
            background: linear-gradient(145deg, #ef4444, #dc2626);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            font-size: 15px;
            box-shadow: 0 5px 20px rgba(239, 68, 68, 0.3);
        }

        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(239, 68, 68, 0.5);
        }

        .main-content {
            margin-left: 280px;
            margin-top: 75px;
            padding: 35px;
            min-height: calc(100vh - 75px);
        }

        .container {
            display: none;
        }

        .container.active {
            display: block;
        }

        .content-header {
            margin-bottom: 35px;
        }

        .content-header h1 {
            font-size: 2.8em;
            color: #fff;
            margin-bottom: 12px;
            text-shadow: 0 0 30px rgba(59, 130, 246, 0.5);
        }

        .content-section {
            background: linear-gradient(145deg, #0a0a0a, #050505);
            border: 2px solid rgba(59, 130, 246, 0.2);
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 25px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .section-title {
            color: #3b82f6;
            font-size: 1.6em;
            margin-bottom: 25px;
            text-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #b0b8d4;
            font-weight: 600;
            font-size: 15px;
        }

        input[type="text"],
        select,
        textarea {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid rgba(59, 130, 246, 0.2);
            border-radius: 12px;
            font-size: 15px;
            background: #000;
            color: #e0e0e0;
            transition: all 0.3s;
            font-family: inherit;
        }

        select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1.5L6 6.5L11 1.5' stroke='%233b82f6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
            padding-right: 45px;
        }

        select option {
            background: #0a0a0a;
            color: #e0e0e0;
            padding: 12px;
        }

        input[type="text"]:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15);
            background: rgba(59, 130, 246, 0.05);
        }

        input[type="text"]:hover,
        select:hover,
        textarea:hover {
            border-color: rgba(59, 130, 246, 0.4);
        }

        textarea {
            resize: vertical;
            min-height: 130px;
            line-height: 1.6;
        }

        .btn {
            background: linear-gradient(145deg, #3b82f6, #2563eb);
            color: white;
            padding: 15px 35px;
            border: none;
            border-radius: 12px;
            font-size: 17px;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            font-weight: 600;
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover:not(:disabled)::before {
            width: 400px;
            height: 400px;
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(59, 130, 246, 0.6);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(145deg, #0a0a0a, #050505);
            border: 2px solid rgba(59, 130, 246, 0.2);
            color: white;
            padding: 28px;
            border-radius: 18px;
            text-align: center;
            transition: all 0.3s;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(145deg, rgba(59, 130, 246, 0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .stat-card:hover::before {
            opacity: 1;
        }

        .stat-card:hover {
            border-color: #3b82f6;
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(59, 130, 246, 0.3);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #3b82f6;
            text-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
            position: relative;
            z-index: 1;
        }

        .stat-label {
            font-size: 0.95em;
            opacity: 0.9;
            margin-top: 8px;
            position: relative;
            z-index: 1;
        }

        .pending-notice {
            background: linear-gradient(145deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.05));
            border: 3px solid #f59e0b;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            margin: 60px auto;
            max-width: 650px;
            box-shadow: 0 20px 60px rgba(245, 158, 11, 0.2);
        }

        .pending-notice h2 {
            color: #f59e0b;
            margin-bottom: 20px;
            font-size: 2.3em;
            text-shadow: 0 0 20px rgba(245, 158, 11, 0.5);
        }

        .pending-notice p {
            color: #b0b8d4;
            line-height: 1.8;
            font-size: 1.1em;
        }

        .request-card, .user-card {
            background: linear-gradient(145deg, #0a0a0a, #050505);
            border: 2px solid rgba(59, 130, 246, 0.2);
            border-radius: 18px;
            padding: 25px;
            margin-bottom: 20px;
            transition: all 0.3s;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .request-card:hover, .user-card:hover {
            border-color: #3b82f6;
            box-shadow: 0 15px 40px rgba(59, 130, 246, 0.3);
            transform: translateX(5px);
        }

        .request-header, .user-header {
            display: flex;
            align-items: center;
            gap: 18px;
            margin-bottom: 20px;
        }

        .request-avatar, .user-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 3px solid #3b82f6;
            box-shadow: 0 5px 20px rgba(59, 130, 246, 0.4);
        }

        .request-info h3, .user-info h3 {
            color: #3b82f6;
            margin-bottom: 5px;
            font-size: 1.3em;
        }

        .request-info small, .user-info small {
            color: #6b7280;
            font-size: 0.9em;
        }

        .request-reason {
            background: rgba(59, 130, 246, 0.05);
            padding: 18px;
            border-radius: 12px;
            margin-bottom: 18px;
            color: #b0b8d4;
            border-left: 4px solid #3b82f6;
            line-height: 1.6;
        }

        .request-actions, .user-actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            flex: 1;
            min-width: 120px;
            position: relative;
            overflow: hidden;
        }

        .action-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .action-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .action-btn.approve {
            background: linear-gradient(145deg, #10b981, #059669);
            color: white;
            box-shadow: 0 5px 20px rgba(16, 185, 129, 0.3);
        }

        .action-btn.approve:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(16, 185, 129, 0.5);
        }

        .action-btn.reject, .action-btn.kick {
            background: linear-gradient(145deg, #f59e0b, #d97706);
            color: white;
            box-shadow: 0 5px 20px rgba(245, 158, 11, 0.3);
        }

        .action-btn.reject:hover, .action-btn.kick:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(245, 158, 11, 0.5);
        }

        .action-btn.ban, .action-btn.blacklist {
            background: linear-gradient(145deg, #ef4444, #dc2626);
            color: white;
            box-shadow: 0 5px 20px rgba(239, 68, 68, 0.3);
        }

        .action-btn.ban:hover, .action-btn.blacklist:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(239, 68, 68, 0.5);
        }

        .no-logs {
            text-align: center;
            padding: 70px;
            color: #5a6378;
            font-size: 1.3em;
        }

        .user-status {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 600;
            margin-left: 10px;
        }

        .status-approved {
            background: linear-gradient(145deg, #10b981, #059669);
            color: white;
        }

        .status-pending {
            background: linear-gradient(145deg, #f59e0b, #d97706);
            color: white;
        }

        .status-banned {
            background: linear-gradient(145deg, #ef4444, #dc2626);
            color: white;
        }

        .status-blacklisted {
            background: linear-gradient(145deg, #000, #1a1a1a);
            color: white;
        }

        .search-box {
            margin-bottom: 25px;
        }

        .search-input {
            width: 100%;
            padding: 14px 20px;
            background: #000;
            border: 2px solid rgba(59, 130, 246, 0.2);
            border-radius: 12px;
            color: #e0e0e0;
            font-size: 15px;
            transition: all 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15);
        }

        .search-input::placeholder {
            color: #6b7280;
        }

        @media (max-width: 1024px) {
            .sidebar-nav {
                transform: translateX(-280px);
            }

            .top-bar, .main-content {
                margin-left: 0;
                left: 0;
            }
        }

        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: #0a0a0a;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #3b82f6, #2563eb);
            border-radius: 6px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #2563eb, #1d4ed8);
        }
    </style>
</head>
<body>
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>

    <!-- Access Request Modal -->
    <div class="modal-overlay" id="accessRequestModal">
        <div class="modal-box">
            <div class="modal-icon success">✉️</div>
            <div class="modal-title">Zugriff anfragen</div>
            <div class="modal-message">
                <p style="margin-bottom: 15px;">Du hast noch keinen Zugriff auf das System. Bitte beschreibe kurz, warum du Zugriff benötigst:</p>
                <textarea id="accessRequestReason" placeholder="z.B. Ich bin Moderator und möchte Bestrafungen eintragen..." style="width: 100%; min-height: 130px; margin-bottom: 15px; padding: 14px; border: 2px solid rgba(59, 130, 246, 0.2); border-radius: 12px; background: #000; color: #e0e0e0; font-family: inherit; resize: vertical;"></textarea>
            </div>
            <div class="modal-buttons">
                <button class="modal-btn success" onclick="submitAccessRequest()">Anfrage senden</button>
                <button class="modal-btn cancel" onclick="cancelAccessRequest()">Abbrechen</button>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal-overlay" id="successModal">
        <div class="modal-box">
            <div class="modal-icon success">✅</div>
            <div class="modal-title">Anfrage gesendet!</div>
            <div class="modal-message">
                <p>Deine Zugangsanfrage wurde erfolgreich gesendet. Ein Administrator wird sie in Kürze prüfen.</p>
            </div>
            <div class="modal-buttons">
                <button class="modal-btn success" onclick="closeSuccessModal()">OK</button>
            </div>
        </div>
    </div>

    <!-- Login Container -->
    <div class="login-container" id="loginContainer">
        <h1>📘 Bestrafungs-Log System</h1>
        <p style="color: #b0b8d4; margin-bottom: 30px;">Melde dich mit Discord an, um fortzufahren</p>
        <a href="#" class="discord-btn" onclick="handleDiscordLogin(event)">
            <svg width="24" height="24" viewBox="0 0 127.14 96.36" fill="currentColor">
                <path d="M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z"/>
            </svg>
            Mit Discord anmelden
        </a>
    </div>

    <!-- App Container -->
    <div id="appContainer" style="display: none;">
        <nav class="sidebar-nav">
            <div class="nav-header">
                <div class="nav-logo">📘 Mod System</div>
            </div>
            <div class="nav-menu">
                <div class="nav-item active" onclick="navigateTo('logs', event)">
                    <span class="nav-icon">📋</span>
                    <span>Bestrafungen</span>
                </div>
                <div class="nav-item" onclick="navigateTo('players', event)">
                    <span class="nav-icon">👥</span>
                    <span>Spielerliste</span>
                </div>
                <div class="nav-item" id="navRequests" style="display: none;" onclick="navigateTo('requests', event)">
                    <span class="nav-icon">📨</span>
                    <span>Anfragen</span>
                </div>
                <div class="nav-item" id="navAdmin" style="display: none;" onclick="navigateTo('admin', event)">
                    <span class="nav-icon">⚙️</span>
                    <span>Admin Panel</span>
                </div>
            </div>
        </nav>

        <div class="top-bar">
            <div class="user-profile">
                <img src="" alt="Avatar" class="user-avatar-top" id="userAvatarTop">
                <div class="user-info-popup">
                    <img src="" alt="Avatar" class="popup-avatar" id="popupAvatar">
                    <div class="popup-name" id="popupName"></div>
                    <div class="popup-rank">
                        <span class="user-rank" id="popupRank"></span>
                    </div>
                    <div class="popup-info">
                        <div><strong>Discord ID:</strong> <span id="popupId"></span></div>
                        <div><strong>Status:</strong> <span id="popupStatus"></span></div>
                    </div>
                    <button class="logout-btn" onclick="logout()">Abmelden</button>
                </div>
            </div>
        </div>

        <div class="main-content">
            <!-- Pending Access Container -->
            <div class="container active" id="pendingContainer">
                <div class="pending-notice">
                    <h2>⏳ Zugriff ausstehend</h2>
                    <p>Deine Zugangsanfrage wurde gesendet und wird derzeit von einem Administrator geprüft. Du wirst benachrichtigt, sobald eine Entscheidung getroffen wurde.</p>
                    <p style="margin-top: 15px; font-size: 0.9em;">Bitte habe etwas Geduld. Dies kann einige Zeit in Anspruch nehmen.</p>
                </div>
            </div>

            <!-- Logs Container -->
            <div class="container" id="logsContainer">
                <div class="content-header">
                    <h1>📋 Bestrafungen</h1>
                </div>

                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-number" id="totalLogs">0</div>
                        <div class="stat-label">Gesamt</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalBans">0</div>
                        <div class="stat-label">Bans</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalKicks">0</div>
                        <div class="stat-label">Kicks</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalWarns">0</div>
                        <div class="stat-label">Warnungen</div>
                    </div>
                </div>

                <div class="content-section">
                    <h2 class="section-title">➕ Neue Bestrafung</h2>
                    <form id="punishmentForm">
                        <div class="form-group">
                            <label for="punishmentType">Bestrafungsart:</label>
                            <select id="punishmentType" required>
                                <option value="">── Bitte wählen ──</option>
                                <option value="ban">🚫 Ban</option>
                                <option value="kick">👢 Kick</option>
                                <option value="warn">⚠️ Warnung</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="robloxUsername">Roblox Benutzername:</label>
                            <input type="text" id="robloxUsername" required placeholder="z.B. MaxMustermann">
                        </div>

                        <div class="form-group">
                            <label for="reason">Grund:</label>
                            <textarea id="reason" required placeholder="Detaillierte Beschreibung des Grundes..."></textarea>
                        </div>

                        <button type="submit" class="btn">Bestrafung hinzufügen</button>
                    </form>
                </div>
            </div>

            <!-- Players Container -->
            <div class="container" id="playersContainer">
                <div class="content-header">
                    <h1>👥 Spielerliste</h1>
                </div>
                <div class="content-section">
                    <div class="no-logs">Keine Spieler vorhanden</div>
                </div>
            </div>

            <!-- Requests Container -->
            <div class="container" id="requestsContainer">
                <div class="content-header">
                    <h1>📨 Zugriffs-Anfragen</h1>
                </div>
                <div class="content-section">
                    <div class="search-box">
                        <input type="text" class="search-input" placeholder="🔍 Benutzer suchen..." onkeyup="filterRequests(this.value)">
                    </div>
                    <div id="requestsList">
                        <div class="no-logs">Keine Anfragen vorhanden</div>
                    </div>
                </div>
            </div>

            <!-- Admin Container -->
            <div class="container" id="adminContainer">
                <div class="content-header">
                    <h1>⚙️ Admin Panel</h1>
                </div>
                <div class="content-section">
                    <h2 class="section-title">👥 Benutzerverwaltung</h2>
                    <div class="search-box">
                        <input type="text" class="search-input" placeholder="🔍 Benutzer suchen..." onkeyup="filterUsers(this.value)">
                    </div>
                    <div id="usersList">
                        <div class="no-logs">Keine Benutzer vorhanden</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // OWNER DISCORD ID
        const OWNER_ID = '1072581651051315240';

        // Simulated database
        let currentUser = null;
        let accessRequests = [];
        let approvedUsers = {};
        let blacklistedUsers = {};

        // Initialize on page load
        window.onload = function() {
            loadSavedData();
            
            const urlParams = new URLSearchParams(window.location.search);
            const code = urlParams.get('code');
            
            if (code) {
                handleOAuthCallback(code);
            } else {
                checkExistingSession();
            }
        };

        function loadSavedData() {
            const savedApproved = localStorage.getItem('approvedUsers');
            if (savedApproved) {
                approvedUsers = JSON.parse(savedApproved);
            }

            const savedRequests = localStorage.getItem('accessRequests');
            if (savedRequests) {
                accessRequests = JSON.parse(savedRequests);
            }

            const savedBlacklisted = localStorage.getItem('blacklistedUsers');
            if (savedBlacklisted) {
                blacklistedUsers = JSON.parse(savedBlacklisted);
            }
        }

        function handleDiscordLogin(event) {
            event.preventDefault();
            
            // Redirect to Discord OAuth2
            window.location.href = 'https://discord.com/oauth2/authorize?client_id=1419243337826832406&response_type=code&redirect_uri=https%3A%2F%2Fhrp-moderationlogging.vercel.app%2F&scope=identify';
        }

        function handleOAuthCallback(code) {
            // In production, you need a backend endpoint to exchange the code for user data
            // This is a placeholder - you'll need to implement your backend API
            
            // For now, we'll show a message that backend is needed
            console.log('OAuth Code received:', code);
            
            // TODO: Replace this with actual backend call
            // Example:
            // fetch('/api/discord/callback', {
            //     method: 'POST',
            //     headers: { 'Content-Type': 'application/json' },
            //     body: JSON.stringify({ code: code })
            // })
            // .then(res => res.json())
            // .then(userData => processLogin(userData));
            
            // Temporary: For testing purposes only
            // You should remove this and implement proper backend authentication
            const mockUser = {
                id: '1072581651051315240', // Replace with actual user ID from Discord API
                username: 'TestUser',
                discriminator: '0001',
                avatar: 'https://cdn.discordapp.com/embed/avatars/1.png'
            };
            
            processLogin(mockUser);
        }

        function processLogin(userData) {
            // Check if user is blacklisted
            if (blacklistedUsers[userData.id]) {
                alert('Du wurdest von diesem System ausgeschlossen und kannst keine Anfragen mehr stellen.');
                return;
            }

            currentUser = {
                id: userData.id,
                username: userData.username + '#' + userData.discriminator,
                avatar: userData.avatar,
                rank: userData.id === OWNER_ID ? 'owner' : 'pending',
                status: userData.id === OWNER_ID ? 'approved' : 'pending'
            };

            sessionStorage.setItem('currentUser', JSON.stringify(currentUser));

            if (currentUser.id === OWNER_ID) {
                showApp();
            } else {
                if (approvedUsers[currentUser.id]) {
                    currentUser.rank = approvedUsers[currentUser.id].rank;
                    currentUser.status = 'approved';
                    sessionStorage.setItem('currentUser', JSON.stringify(currentUser));
                    showApp();
                } else {
                    const existingRequest = accessRequests.find(r => r.userId === currentUser.id && r.status === 'pending');
                    if (existingRequest) {
                        showPendingScreen();
                    } else {
                        showAccessRequestModal();
                    }
                }
            }
        }

        function checkExistingSession() {
            const savedUser = sessionStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                
                // Check if blacklisted
                if (blacklistedUsers[currentUser.id]) {
                    sessionStorage.removeItem('currentUser');
                    alert('Du wurdest von diesem System ausgeschlossen.');
                    return;
                }
                
                if (currentUser.status === 'approved' || currentUser.id === OWNER_ID) {
                    showApp();
                } else {
                    showPendingScreen();
                }
            }
        }

        function showAccessRequestModal() {
            document.getElementById('loginContainer').style.display = 'none';
            document.getElementById('appContainer').style.display = 'block';
            document.getElementById('accessRequestModal').classList.add('active');
        }

        function submitAccessRequest() {
            const reason = document.getElementById('accessRequestReason').value.trim();
            
            if (!reason) {
                alert('Bitte gib einen Grund für deine Anfrage an.');
                return;
            }

            if (reason.length < 20) {
                alert('Bitte gib eine ausführlichere Begründung an (mindestens 20 Zeichen).');
                return;
            }

            const request = {
                id: Date.now(),
                userId: currentUser.id,
                username: currentUser.username,
                avatar: currentUser.avatar,
                reason: reason,
                timestamp: new Date().toISOString(),
                status: 'pending'
            };

            accessRequests.push(request);
            localStorage.setItem('accessRequests', JSON.stringify(accessRequests));

            document.getElementById('accessRequestModal').classList.remove('active');
            document.getElementById('successModal').classList.add('active');
        }

        function closeSuccessModal() {
            document.getElementById('successModal').classList.remove('active');
            showPendingScreen();
        }

        function cancelAccessRequest() {
            document.getElementById('accessRequestModal').classList.remove('active');
            logout();
        }

        function showPendingScreen() {
            document.getElementById('loginContainer').style.display = 'none';
            document.getElementById('appContainer').style.display = 'block';
            
            updateUserProfile();
            
            document.querySelectorAll('.container').forEach(c => c.classList.remove('active'));
            document.getElementById('pendingContainer').classList.add('active');
        }

        function showApp() {
            document.getElementById('loginContainer').style.display = 'none';
            document.getElementById('appContainer').style.display = 'block';
            
            updateUserProfile();
            
            if (currentUser.rank === 'owner' || currentUser.rank === 'admin') {
                document.getElementById('navRequests').style.display = 'flex';
                document.getElementById('navAdmin').style.display = 'flex';
                loadAccessRequests();
                loadUsersList();
            }
            
            document.getElementById('pendingContainer').classList.remove('active');
            document.getElementById('logsContainer').classList.add('active');
            
            loadPunishments();
        }

        function updateUserProfile() {
            document.getElementById('userAvatarTop').src = currentUser.avatar;
            document.getElementById('popupAvatar').src = currentUser.avatar;
            document.getElementById('popupName').textContent = currentUser.username;
            
            const rankElement = document.getElementById('popupRank');
            const rankText = {
                'owner': 'Owner',
                'admin': 'Administrator',
                'moderator': 'Moderator',
                'pending': 'Ausstehend'
            };
            rankElement.textContent = rankText[currentUser.rank] || 'Benutzer';
            rankElement.className = 'user-rank rank-' + currentUser.rank;
            
            document.getElementById('popupId').textContent = currentUser.id;
            document.getElementById('popupStatus').textContent = currentUser.status === 'approved' ? '✅ Genehmigt' : '⏳ Ausstehend';
        }

        function loadAccessRequests() {
            const listContainer = document.getElementById('requestsList');
            const pendingRequests = accessRequests.filter(r => r.status === 'pending');
            
            if (pendingRequests.length === 0) {
                listContainer.innerHTML = '<div class="no-logs">Keine offenen Anfragen vorhanden</div>';
                return;
            }
            
            listContainer.innerHTML = pendingRequests.map(request => `
                <div class="request-card" data-username="${request.username.toLowerCase()}">
                    <div class="request-header">
                        <img src="${request.avatar}" alt="Avatar" class="request-avatar">
                        <div class="request-info">
                            <h3>${request.username}</h3>
                            <small>Discord ID: ${request.userId}</small>
                        </div>
                    </div>
                    <div class="request-reason">
                        <strong style="color: #3b82f6;">Grund:</strong><br>
                        ${request.reason}
                    </div>
                    <div style="font-size: 0.85em; color: #6b7280; margin-bottom: 15px;">
                        📅 Angefragt am: ${new Date(request.timestamp).toLocaleString('de-DE')}
                    </div>
                    <div class="request-actions">
                        <button class="action-btn approve" onclick="approveRequest(${request.id})">
                            ✓ Genehmigen
                        </button>
                        <button class="action-btn reject" onclick="rejectRequest(${request.id})">
                            ✗ Ablehnen
                        </button>
                        <button class="action-btn blacklist" onclick="blacklistUser('${request.userId}', '${request.username}')">
                            🚫 Blacklisten
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function loadUsersList() {
            const listContainer = document.getElementById('usersList');
            
            // Get all approved users
            const allUsers = Object.keys(approvedUsers).map(userId => {
                const user = approvedUsers[userId];
                return {
                    id: userId,
                    ...user,
                    status: blacklistedUsers[userId] ? 'blacklisted' : 'approved'
                };
            });
            
            // Add blacklisted users who aren't in approved list
            Object.keys(blacklistedUsers).forEach(userId => {
                if (!approvedUsers[userId]) {
                    allUsers.push({
                        id: userId,
                        username: blacklistedUsers[userId].username || 'Unbekannt',
                        rank: 'blacklisted',
                        status: 'blacklisted',
                        approvedAt: blacklistedUsers[userId].blacklistedAt,
                        approvedBy: blacklistedUsers[userId].blacklistedBy,
                        avatar: blacklistedUsers[userId].avatar || 'https://cdn.discordapp.com/embed/avatars/0.png'
                    });
                }
            });
            
            if (allUsers.length === 0) {
                listContainer.innerHTML = '<div class="no-logs">Keine Benutzer vorhanden</div>';
                return;
            }
            
            listContainer.innerHTML = allUsers.map(user => `
                <div class="user-card" data-username="${(user.username || user.id).toLowerCase()}" data-id="${user.id}">
                    <div class="user-header">
                        <img src="${user.avatar || 'https://cdn.discordapp.com/embed/avatars/0.png'}" alt="Avatar" class="user-avatar">
                        <div class="user-info">
                            <h3>
                                ${user.username || 'Unbekannt'}
                                <span class="user-status status-${user.status}">
                                    ${user.status === 'blacklisted' ? '🚫 Blacklisted' : '✅ Aktiv'}
                                </span>
                            </h3>
                            <small>Discord ID: ${user.id}</small>
                            <div style="margin-top: 5px;">
                                <span class="user-rank rank-${user.rank}">${user.rank === 'blacklisted' ? 'Blacklisted' : user.rank}</span>
                            </div>
                        </div>
                    </div>
                    <div style="font-size: 0.85em; color: #6b7280; margin: 15px 0;">
                        📅 ${user.status === 'blacklisted' ? 'Blacklisted' : 'Genehmigt'} am: ${new Date(user.approvedAt).toLocaleString('de-DE')}<br>
                        👤 Von: ${user.approvedBy === OWNER_ID ? 'Owner' : user.approvedBy}
                    </div>
                    <div class="user-actions">
                        ${user.status !== 'blacklisted' ? `
                            <button class="action-btn kick" onclick="kickUser('${user.id}')">
                                👢 Kicken
                            </button>
                            <button class="action-btn ban" onclick="banUser('${user.id}')">
                                🚫 Bannen
                            </button>
                            <button class="action-btn blacklist" onclick="blacklistUser('${user.id}', '${user.username}')">
                                ⛔ Blacklisten
                            </button>
                        ` : `
                            <button class="action-btn approve" onclick="unblacklistUser('${user.id}')">
                                ✓ Blacklist aufheben
                            </button>
                        `}
                    </div>
                </div>
            `).join('');
        }

        function approveRequest(requestId) {
            const request = accessRequests.find(r => r.id === requestId);
            if (!request) return;
            
            approvedUsers[request.userId] = {
                rank: 'moderator',
                approvedBy: currentUser.id,
                approvedAt: new Date().toISOString(),
                username: request.username,
                avatar: request.avatar
            };
            
            request.status = 'approved';
            
            localStorage.setItem('approvedUsers', JSON.stringify(approvedUsers));
            localStorage.setItem('accessRequests', JSON.stringify(accessRequests));
            
            loadAccessRequests();
            loadUsersList();
            
            alert(`✅ Zugriff für ${request.username} wurde genehmigt!`);
        }

        function rejectRequest(requestId) {
            const request = accessRequests.find(r => r.id === requestId);
            if (!request) return;
            
            if (confirm(`Möchtest du die Anfrage von ${request.username} wirklich ablehnen?`)) {
                request.status = 'rejected';
                localStorage.setItem('accessRequests', JSON.stringify(accessRequests));
                loadAccessRequests();
                alert('❌ Anfrage wurde abgelehnt.');
            }
        }

        function kickUser(userId) {
            if (!confirm('Möchtest du diesen Benutzer wirklich kicken? Er muss eine neue Anfrage stellen.')) return;
            
            delete approvedUsers[userId];
            localStorage.setItem('approvedUsers', JSON.stringify(approvedUsers));
            
            loadUsersList();
            alert('👢 Benutzer wurde gekickt!');
        }

        function banUser(userId) {
            if (!confirm('Möchtest du diesen Benutzer wirklich bannen? Er wird dauerhaft vom System entfernt.')) return;
            
            blacklistedUsers[userId] = {
                bannedAt: new Date().toISOString(),
                bannedBy: currentUser.id,
                type: 'ban'
            };
            
            localStorage.setItem('blacklistedUsers', JSON.stringify(blacklistedUsers));
            
            loadUsersList();
            alert('🚫 Benutzer wurde gebannt!');
        }

        function blacklistUser(userId, username) {
            if (!confirm(`Möchtest du ${username || 'diesen Benutzer'} wirklich blacklisten? Er kann keine Anfragen mehr stellen.`)) return;
            
            const user = approvedUsers[userId];
            
            blacklistedUsers[userId] = {
                blacklistedAt: new Date().toISOString(),
                blacklistedBy: currentUser.id,
                type: 'blacklist',
                username: username,
                avatar: user ? user.avatar : 'https://cdn.discordapp.com/embed/avatars/0.png'
            };
            
            delete approvedUsers[userId];
            
            localStorage.setItem('blacklistedUsers', JSON.stringify(blacklistedUsers));
            localStorage.setItem('approvedUsers', JSON.stringify(approvedUsers));
            
            // Update requests list
            accessRequests.forEach(req => {
                if (req.userId === userId) {
                    req.status = 'blacklisted';
                }
            });
            localStorage.setItem('accessRequests', JSON.stringify(accessRequests));
            
            loadAccessRequests();
            loadUsersList();
            alert('⛔ Benutzer wurde blacklisted!');
        }

        function unblacklistUser(userId) {
            if (!confirm('Möchtest du die Blacklist für diesen Benutzer aufheben?')) return;
            
            delete blacklistedUsers[userId];
            localStorage.setItem('blacklistedUsers', JSON.stringify(blacklistedUsers));
            
            loadUsersList();
            alert('✅ Blacklist wurde aufgehoben!');
        }

        function filterRequests(searchTerm) {
            const cards = document.querySelectorAll('#requestsList .request-card');
            const term = searchTerm.toLowerCase();
            
            cards.forEach(card => {
                const username = card.dataset.username;
                card.style.display = username.includes(term) ? 'block' : 'none';
            });
        }

        function filterUsers(searchTerm) {
            const cards = document.querySelectorAll('#usersList .user-card');
            const term = searchTerm.toLowerCase();
            
            cards.forEach(card => {
                const username = card.dataset.username;
                card.style.display = username.includes(term) ? 'block' : 'none';
            });
        }

        function loadPunishments() {
            document.getElementById('totalLogs').textContent = '0';
            document.getElementById('totalBans').textContent = '0';
            document.getElementById('totalKicks').textContent = '0';
            document.getElementById('totalWarns').textContent = '0';
        }

        function navigateTo(page, event) {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.closest('.nav-item').classList.add('active');
            
            document.querySelectorAll('.container').forEach(container => {
                container.classList.remove('active');
            });
            
            const containerMap = {
                'logs': 'logsContainer',
                'players': 'playersContainer',
                'requests': 'requestsContainer',
                'admin': 'adminContainer'
            };
            
            document.getElementById(containerMap[page]).classList.add('active');
        }

        function logout() {
            if (confirm('Möchtest du dich wirklich abmelden?')) {
                sessionStorage.removeItem('currentUser');
                currentUser = null;
                
                document.getElementById('appContainer').style.display = 'none';
                document.getElementById('loginContainer').style.display = 'block';
                
                window.history.replaceState({}, document.title, window.location.pathname);
            }
        }

        // Punishment Form Handler
        document.addEventListener('DOMContentLoaded', function() {
            const punishmentForm = document.getElementById('punishmentForm');
            if (punishmentForm) {
                punishmentForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const type = document.getElementById('punishmentType').value;
                    const username = document.getElementById('robloxUsername').value.trim();
                    const reason = document.getElementById('reason').value.trim();
                    
                    if (!type || !username || !reason) {
                        alert('❌ Bitte fülle alle Felder aus!');
                        return;
                    }
                    
                    if (reason.length < 10) {
                        alert('❌ Der Grund muss mindestens 10 Zeichen lang sein!');
                        return;
                    }
                    
                    // Save punishment
                    const punishment = {
                        id: Date.now(),
                        type: type,
                        username: username,
                        reason: reason,
                        moderator: currentUser.username,
                        timestamp: new Date().toISOString()
                    };
                    
                    // Get existing punishments
                    let punishments = JSON.parse(localStorage.getItem('punishments') || '[]');
                    punishments.unshift(punishment);
                    localStorage.setItem('punishments', JSON.stringify(punishments));
                    
                    alert(`✅ Bestrafung hinzugefügt!\n\n📋 Typ: ${type}\n👤 Benutzer: ${username}\n📝 Grund: ${reason}`);
                    
                    this.reset();
                    loadPunishments();
                });
            }
        });
    </script>
</body>
</html>
